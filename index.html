<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Interview Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .intro-section {
            text-align: left;
            color: #333;
            margin-bottom: 40px;
        }
        
        .intro-section h1 {
            color: #34495e;
            margin-bottom: 25px;
            font-size: 32px;
            text-align: center;
            font-weight: bold;
        }
        
        .intro-section p {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .tips {
            font-size: 16px;
            color: #666;
            margin-bottom: 40px;
            padding: 15px;
            background-color: #e8f4f8;
            border-radius: 8px;
            border-left: 4px solid #34495e;
        }
        
        .widget-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            position: relative;
        }
        
        /* VAPI Widget Styling - Aggressive override of SDK positioning */
        vapi-widget,
        vapi-widget *,
        vapi-widget > *,
        vapi-widget div,
        vapi-widget button {
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            right: auto !important;
            bottom: auto !important;
            transform: translate(-50%, -50%) !important;
            width: 144px !important;
            height: 144px !important;
            border-radius: 50% !important;
            z-index: 1000 !important;
        }
        
        /* Force override any SDK positioning classes */
        vapi-widget[style*="position"],
        vapi-widget[style*="bottom"],
        vapi-widget[style*="right"] {
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            right: auto !important;
            bottom: auto !important;
            transform: translate(-50%, -50%) !important;
        }
        
        /* Animation for the widget */
        vapi-widget {
            animation: pulse 2s infinite ease-in-out !important;
        }
        
        /* Prominent pulsing animation */
        @keyframes pulse {
            0% {
                background-color: #34495e !important;
                box-shadow: 0 0 10px rgba(52, 73, 94, 0.2) !important;
                opacity: 0.8 !important;
                transform: translate(-50%, -50%) scale(1) !important;
            }
            50% {
                background-color: #5dade2 !important;
                box-shadow: 0 0 40px rgba(93, 173, 226, 0.9) !important, 
                           0 0 60px rgba(93, 173, 226, 0.6) !important,
                           0 0 80px rgba(93, 173, 226, 0.3) !important;
                opacity: 1 !important;
                transform: translate(-50%, -50%) scale(1.05) !important;
            }
            100% {
                background-color: #34495e !important;
                box-shadow: 0 0 10px rgba(52, 73, 94, 0.2) !important;
                opacity: 0.8 !important;
                transform: translate(-50%, -50%) scale(1) !important;
            }
        }
        
        /* Alternative approach - use CSS custom properties to override SDK */
        :root {
            --vapi-widget-position: fixed !important;
            --vapi-widget-top: 50% !important;
            --vapi-widget-left: 50% !important;
            --vapi-widget-bottom: auto !important;
            --vapi-widget-right: auto !important;
        }
        
        /* Text overlay for the widget */
        .widget-text-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-family: Arial, sans-serif;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            pointer-events: none;
            z-index: 1001;
            user-select: none;
        }
        
        /* Remove custom overlay that might interfere */
        
        /* Status messages */
        .status-message {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 25px;
            font-size: 14px;
            z-index: 1002;
            display: none;
            text-align: center;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .intro-section h1 {
                font-size: 28px;
            }
            
            .intro-section p {
                font-size: 16px;
            }
            
            .pulse-overlay {
                width: 150px;
                height: 150px;
                font-size: 16px;
            }
            
            vapi-widget {
                width: 150px !important;
                height: 150px !important;
            }
        }
        
        /* Hide widget initially until it loads */
        vapi-widget {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        
        vapi-widget.loaded {
            opacity: 1;
        }
        
        /* Add some basic styling after widget loads */
        vapi-widget.loaded {
            animation: fadeInPulse 1s ease-in-out;
        }
        
        @keyframes fadeInPulse {
            0% { 
                opacity: 0; 
                transform: scale(0.9); 
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.05); 
            }
            100% { 
                opacity: 1; 
                transform: scale(1); 
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="intro-section">
            <h1>Ready for Your AI Interview?</h1>
            <p>
                Before you begin, please find a <strong>quiet, private location</strong> with good internet connection. Make sure you're in a well-lit space where you can speak clearly without interruptions.
            </p>
            <p>
                The AI assistant will guide you through the interview process. Speak naturally and take your time to think before answering. If you need clarification on any question, don't hesitate to ask.
            </p>
            <div class="tips">
                <strong>üìù Tips for Success:</strong><br>
                ‚Ä¢ Use headphones or earbuds for better audio quality<br>
                ‚Ä¢ Close other applications to ensure stable connection<br>
                ‚Ä¢ Have your resume or relevant documents nearby if needed<br>
                ‚Ä¢ Speak clearly and at a normal pace
            </div>
        </div>
        
        <div class="widget-area">
            <vapi-widget 
                assistant-id="35c7f5f0-a44c-4172-85da-1c05cc5e55e7" 
                public-key="1f80cbcd-97fc-45ad-ba54-5eff014c5f4e"
                mode="voice"
                theme="dark"
            ></vapi-widget>
            
            <div class="widget-text-overlay">Click to talk</div>
        </div>
    </div>
    
    <div class="status-message" id="statusMessage"></div>
    
    <script src="https://unpkg.com/@vapi-ai/client-sdk-react/dist/embed/widget.umd.js" async type="text/javascript"></script>
    
    <script>
        // Simple widget initialization - minimal interference
        console.log('AI Interview page loaded');
        
        function showStatus(message, duration = 3000) {
            const statusEl = document.getElementById('statusMessage');
            if (statusEl) {
                statusEl.textContent = message;
                statusEl.style.display = 'block';
                setTimeout(() => {
                    statusEl.style.display = 'none';
                }, duration);
            }
        }
        
        // Wait for widget to load with minimal interference
        setTimeout(() => {
            const widget = document.querySelector('vapi-widget');
            if (widget) {
                console.log('‚úÖ VAPI widget found');
                widget.classList.add('loaded');
                showStatus('Ready for your interview!', 2000);
            } else {
                console.log('‚ùå Widget not found, retrying...');
                // Retry once more
                setTimeout(() => {
                    const retryWidget = document.querySelector('vapi-widget');
                    if (retryWidget) {
                        console.log('‚úÖ VAPI widget found on retry');
                        retryWidget.classList.add('loaded');
                        showStatus('Ready for your interview!', 2000);
                    } else {
                        console.log('‚ùå Widget failed to load');
                        showStatus('Please refresh the page if the interview button doesn\'t appear', 5000);
                    }
                }, 3000);
            }
        }, 2000);
    </script>
</body>
</html>
