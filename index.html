<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Interview Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .intro-section {
            text-align: left;
            color: #333;
            margin-bottom: 40px;
        }
        
        .intro-section h1 {
            color: #34495e;
            margin-bottom: 25px;
            font-size: 32px;
            text-align: center;
            font-weight: bold;
        }
        
        .intro-section p {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .tips {
            font-size: 16px;
            color: #666;
            margin-bottom: 40px;
            padding: 15px;
            background-color: #e8f4f8;
            border-radius: 8px;
            border-left: 4px solid #34495e;
        }
        
        .widget-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            position: relative;
        }
        
        /* VAPI Widget Styling - Minimal to avoid conflicts */
        vapi-widget {
            display: block !important;
            margin: 0 auto !important;
        }
        
        /* Remove custom overlay that might interfere */
        
        /* Status messages */
        .status-message {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 25px;
            font-size: 14px;
            z-index: 1002;
            display: none;
            text-align: center;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .intro-section h1 {
                font-size: 28px;
            }
            
            .intro-section p {
                font-size: 16px;
            }
            
            .pulse-overlay {
                width: 150px;
                height: 150px;
                font-size: 16px;
            }
            
            vapi-widget {
                width: 150px !important;
                height: 150px !important;
            }
        }
        
        /* Hide widget initially until it loads */
        vapi-widget {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        
        vapi-widget.loaded {
            opacity: 1;
        }
        
        /* Add some basic styling after widget loads */
        vapi-widget.loaded {
            animation: fadeInPulse 1s ease-in-out;
        }
        
        @keyframes fadeInPulse {
            0% { 
                opacity: 0; 
                transform: scale(0.9); 
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.05); 
            }
            100% { 
                opacity: 1; 
                transform: scale(1); 
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="intro-section">
            <h1>Ready for Your AI Interview?</h1>
            <p>
                Before you begin, please find a <strong>quiet, private location</strong> with good internet connection. Make sure you're in a well-lit space where you can speak clearly without interruptions.
            </p>
            <p>
                The AI assistant will guide you through the interview process. Speak naturally and take your time to think before answering. If you need clarification on any question, don't hesitate to ask.
            </p>
            <div class="tips">
                <strong>üìù Tips for Success:</strong><br>
                ‚Ä¢ Use headphones or earbuds for better audio quality<br>
                ‚Ä¢ Close other applications to ensure stable connection<br>
                ‚Ä¢ Have your resume or relevant documents nearby if needed<br>
                ‚Ä¢ Speak clearly and at a normal pace
            </div>
        </div>
        
        <div class="widget-area">
            <vapi-widget 
                assistant-id="cca041a2-332f-49ee-912a-7a572c867667" 
                public-key="1f80cbcd-97fc-45ad-ba54-5eff014c5f4e"
                mode="voice"
                theme="dark"
            ></vapi-widget>
        </div>
    </div>
    
    <div class="status-message" id="statusMessage"></div>
    
    <script src="https://unpkg.com/@vapi-ai/client-sdk-react/dist/embed/widget.umd.js" async type="text/javascript"></script>
    
    <script>
        // Simple widget initialization - minimal interference
        console.log('AI Interview page loaded');
        
        function showStatus(message, duration = 3000) {
            const statusEl = document.getElementById('statusMessage');
            if (statusEl) {
                statusEl.textContent = message;
                statusEl.style.display = 'block';
                setTimeout(() => {
                    statusEl.style.display = 'none';
                }, duration);
            }
        }
        
        // Wait for widget to load with minimal interference
        setTimeout(() => {
            const widget = document.querySelector('vapi-widget');
            if (widget) {
                console.log('‚úÖ VAPI widget found');
                widget.classList.add('loaded');
                showStatus('Ready for your interview!', 2000);
            } else {
                console.log('‚ùå Widget not found, retrying...');
                // Retry once more
                setTimeout(() => {
                    const retryWidget = document.querySelector('vapi-widget');
                    if (retryWidget) {
                        console.log('‚úÖ VAPI widget found on retry');
                        retryWidget.classList.add('loaded');
                        showStatus('Ready for your interview!', 2000);
                    } else {
                        console.log('‚ùå Widget failed to load');
                        showStatus('Please refresh the page if the interview button doesn\'t appear', 5000);
                    }
                }, 3000);
            }
        }, 2000);
    </script>
</body>
</html>
